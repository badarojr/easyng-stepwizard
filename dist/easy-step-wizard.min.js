/* Copyright (c) Roberto L. BadarÃ³ Jr. ("Author")
 * All rights reserved.
 * 
 * The BSD License
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS
 * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(e){"use strict";angular.module("easy.stepwizard",[]).directive("easyStepWizard",function(t){return{restrict:"E",scope:{nextIf:"@",textNext:"@",classNext:"@",previousIf:"@",textPrevious:"@",classPrevious:"@",selector:"="},controller:["$scope",function(e){var t=this,n=e.steps=[],s={index:0},r=0,i=function(){var e=$("#sw-header-text"),t=$("#sw-progress"),i=[0,0],o=function(e,t){setTimeout(function(){e.removeClass(t)},500)},c=function(){e.addClass("in-bottom"),o(e,"in-bottom")},a=function(e){var t=$("#sw-step-"+e),n="in-bottom";t&&(t.addClass(n),o(t,n))},u=function(e){1===e?i[1]=i[0]/2:e===r?i[1]=100:i[1]=i[0]*(e-1)+i[0]/2,t.css({width:i[1]+"%"})},l=function(e){if(n.length>0)if(s.index>e.index)for(var t=s.index;t>e.index;t--)n[t-1].enabled=e.nextIf,n[t-1].done=!1;else for(var t=0;t<e.index;t++)n[t].enabled=e.previousIf,n[t].done=!0};return{runAnimations:function(e,t){c(),a(t),u(t)},updateProgress:function(e){0!==e.index&&(i[0]=Math.round(100/r),u(e.index))},updateSelectors:function(e){l(e)}}}();e.stepSelector=e.selector||{},e.stepSelector.select=function(t){!t.enabled||s&&t.index===s.index||(i.runAnimations(s.index,t.index),i.updateSelectors(t),s.selected=!1,t.selected=!0,s=e.currStep=t)},e.stepSelector.previous=function(){s.onPrevious();var t=n[s.index-2];t.enabled=!0,e.stepSelector.select(t)},e.stepSelector.next=function(){s.onNext();var t=n[s.index];t.enabled=!0,e.stepSelector.select(t)},t.addStep=function(t){t.index=++r,t.classPrevious=t.classPrevious||e.classPrevious,t.classNext=t.classNext||e.classNext,0===n.length&&(t.enabled=!0,e.stepSelector.select(t)),n.push(t)},t.previous=e.stepSelector.previous,t.next=e.stepSelector.next,e.$watch(function(){return r},function(){i.updateProgress(s)})}],replace:!1,transclude:!0,templateUrl:e+"el/easy-step-wizard.html"}}).directive("easyStep",function(){return{restrict:"E",require:"^^easyStepWizard",replace:!1,transclude:!0,scope:{header:"=",description:"=",onNext:"&",nextIf:"=",textNext:"@",classNext:"@",onPrevious:"&",previousIf:"=",textPrevious:"@",classPrevious:"@"},compile:function(e,t){return t.textNext||(t.textNext="Next"),t.textPrevious||(t.textPrevious="Back"),function(e,t,n,s){e.wizard=s,s.addStep(e)}},templateUrl:e+"el/easy-step.html"}})}(function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src,n=t.substring(0,t.lastIndexOf("/")+1);return n}());
