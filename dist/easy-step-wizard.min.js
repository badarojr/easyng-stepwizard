/* Copyright (c) Roberto L. Badar√≥ Jr. ("Author")
 * All rights reserved.
 * 
 * The BSD License
 * 
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 * 
 * THIS SOFTWARE IS PROVIDED BY THE AUTHOR AND CONTRIBUTORS ``AS IS'' AND
 * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE AUTHOR OR CONTRIBUTORS
 * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
 * BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY,
 * WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE
 * OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN
 * IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(e){"use strict";angular.module("easy.stepwizard",[]).directive("easyStepWizard",function(t){return{restrict:"E",scope:{nextIf:"@",textNext:"@",classNext:"@",previousIf:"@",textPrevious:"@",classPrevious:"@"},controller:["$scope",function(e){var t=this,n=e.steps=[],s={index:0},r=0,i=function(){var e=$("#sw-header-text"),t=$("#sw-progress"),n=[0,0],s=function(e,t){setTimeout(function(){e.removeClass(t)},500)},i=function(){e.addClass("in-bottom"),s(e,"in-bottom")},o=function(e){var t=$("#sw-step-"+e);t&&(t.addClass("in-bottom"),s(t,"in-bottom"))},c=function(e){n[1]=1===e?n[0]/2:e===r?100:n[0]*(e-1)+n[0]/2,t.css({width:n[1]+"%"})};return{run:function(e,t){i(),o(t),c(t)},updateProgress:function(e){0!==e.index&&(n[0]=Math.round(100/r),c(e.index))}}}();e.select=function(t){!t.enabled||s&&t.index===s.index||(i.run(s.index,t.index),s.selected=!1,t.selected=!0,s=e.currStep=t)},t.addStep=function(t){t.index=++r,t.classPrevious=t.classPrevious||e.classPrevious,t.classNext=t.classNext||e.classNext,0===n.length&&(t.enabled=!0,e.select(t)),n.push(t)},t.previous=function(){var t=n[s.index-2];t.enabled=!0,s.enabled=t.nextIf,e.select(t)},t.next=function(){var t=n[s.index];s.done=!0,t.enabled=!0,s.enabled=t.previousIf,e.select(t)},e.$watch(function(){return r},function(){i.updateProgress(s)})}],replace:!1,transclude:!0,templateUrl:e+"el/easy-step-wizard.html"}}).directive("easyStep",function(){return{restrict:"E",require:"^^easyStepWizard",replace:!1,transclude:!0,scope:{header:"=",description:"=",onNext:"&",nextIf:"=",textNext:"@",classNext:"@",onPrevious:"&",previousIf:"=",textPrevious:"@",classPrevious:"@"},compile:function(e,t){return t.textNext||(t.textNext="Next"),t.textPrevious||(t.textPrevious="Back"),function(e,t,n,s){e.wizard=s,s.addStep(e)}},templateUrl:e+"el/easy-step.html"}})}(function(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src;return t.substring(0,t.lastIndexOf("/")+1)}());